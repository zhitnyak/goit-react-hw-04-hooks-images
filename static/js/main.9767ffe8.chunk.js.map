{"version":3,"sources":["App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","servise/apiImg.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","css","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","src","alt","onClick","id","ImageGalleryItemImage","Modal","onClose","onLeft","onRight","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","event","currentTarget","Button","Spinner","color","height","width","style","textAlign","paddingTop","fetchImg","page","fetch","ImageGallery","query","gallery","setGallery","status","setStatus","setPage","showModal","setShowModal","modalImgSrc","setModalImgSrc","currentImgIdx","setCurrentImgIdx","largeImageURL","setLargeImageURL","setAlt","then","response","ok","json","Promise","reject","Error","hits","length","newHits","match","prev","catch","error","console","log","arr","newArr","forEach","push","toggleModal","modalOpen","map","item","idx","p","wrapper","scrollTo","top","document","documentElement","scrollHeight","behavior","App","data","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9767ffe8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"p\":\"App_p__2g-ke\",\"App\":\"App_App__ScXgk\",\"Searchbar\":\"App_Searchbar__YFg_T\",\"SearchForm\":\"App_SearchForm__1650y\",\"SearchFormButton\":\"App_SearchFormButton__QDb3h\",\"SearchFormButtonLabel\":\"App_SearchFormButtonLabel__11Rm_\",\"SearchFormInput\":\"App_SearchFormInput__2zawi\",\"ImageGallery\":\"App_ImageGallery__MkEoM\",\"wrapper\":\"App_wrapper__aVUZj\",\"ImageGalleryItem\":\"App_ImageGalleryItem__1sWF0\",\"ImageGalleryItemImage\":\"App_ImageGalleryItemImage__1WmT6\",\"Overlay\":\"App_Overlay__38qew\",\"Modal\":\"App_Modal__2ZepC\",\"Button\":\"App_Button__4QxGy\",\"Spinner\":\"App_Spinner__1FYJa\"};","import React, { useState } from \"react\";\nimport css from \"../../App.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleInputChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleInputChange}\n          value={searchQuery}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"../../App.module.css\";\n\nfunction ImageGalleryItem({ src, alt, onClick, id }) {\n  return (\n    <li\n      className={css.ImageGalleryItem}\n      onClick={() => {\n        onClick(src, alt, id);\n      }}\n    >\n      <img src={src} alt={alt} className={css.ImageGalleryItemImage} id={id} />\n    </li>\n  );\n}\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  onClick: PropTypes.func,\n  dataId: PropTypes.number,\n};\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"../../App.module.css\";\n\nfunction Modal({ onClose, onLeft, onRight, src, tags }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    } else if (e.code === \"ArrowLeft\") {\n      onLeft();\n    } else if (e.code === \"ArrowRight\") {\n      onRight();\n    }\n  };\n\n  const handleOverlayClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={css.Overlay} onClick={handleOverlayClick}>\n      <div>\n        <img src={src} alt={tags} className={css.Modal} />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onLeft: PropTypes.func.isRequired,\n  onRight: PropTypes.func.isRequired,\n  tags: PropTypes.string,\n  scr: PropTypes.string,\n};\n","import PropTypes from \"prop-types\";\nimport css from \"../../App.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={css.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport css from \"../../App.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={css.Spinner}>\n      <Loader\n        type=\"Oval\"\n        color=\"#DCB60E\"\n        height={60}\n        width={60}\n        style={{ textAlign: \"center\", paddingTop: \"20px\" }}\n      />\n    </div>\n  );\n};\n\nexport default Spinner;\n","const API_KEY = \"22603097-01ea7c9e46d89c9af2e821f90\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction fetchImg(searchQuery, page) {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n}\n\nexport default fetchImg;\n","import React, { useState, useEffect } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport Spinner from \"../Loader/Loader\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"../../App.module.css\";\nimport fetchImg from \"../../servise/apiImg\";\n\nfunction ImageGallery({ query }) {\n  const [gallery, setGallery] = useState([]);\n  const [status, setStatus] = useState(\"idle\");\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(null);\n  const [modalImgSrc, setModalImgSrc] = useState(\"\");\n  const [currentImgIdx, setCurrentImgIdx] = useState(\"\");\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [alt, setAlt] = useState(\"\");\n\n  useEffect(() => {\n    if (query !== \"\") {\n      setStatus(\"pending\");\n      fetchImg(query)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(`no images on request`));\n        })\n        .then(({ hits }) => {\n          if (hits.length === 0) {\n            setStatus(\"rejected\");\n          } else {\n            const newHits = match(hits);\n            setGallery(newHits);\n            setStatus(\"resolved\");\n            setPage((prev) => prev + 1);\n            setSearchQuery(query);\n          }\n        })\n        .catch((error) => {\n          setStatus(\"rejected\");\n          console.log(error);\n        });\n    }\n  }, [query]);\n\n  const loadmore = () => {\n    fetchImg(searchQuery, page)\n      .then((response) => {\n        return response.json();\n      })\n      .then(({ hits }) => {\n        const newHits = match(hits);\n        setGallery((prev) => [...prev, ...newHits]);\n        setPage((prev) => prev + 1);\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => {\n        setStatus(\"rejected\");\n        console.log(error);\n      });\n  };\n\n  const match = (arr) => {\n    const newArr = [];\n    arr.forEach(({ id, largeImageURL, tags }) => {\n      newArr.push({ id, largeImageURL, tags });\n    });\n    return newArr;\n  };\n\n  const toggleModal = () => {\n    setShowModal((prev) => !prev);\n    setModalImgSrc(\"\");\n  };\n\n  const decrementModal = () => {\n    if (currentImgIdx > 0) {\n      setModalImgSrc(gallery[currentImgIdx - 1].largeImageURL);\n      setCurrentImgIdx((prev) => prev - 1);\n    }\n  };\n\n  const incrementModal = () => {\n    if (currentImgIdx < gallery.length - 1) {\n      setModalImgSrc(gallery[currentImgIdx + 1].largeImageURL);\n      setCurrentImgIdx((prev) => prev + 1);\n    }\n  };\n\n  const modalOpen = (src, alt, id) => {\n    setLargeImageURL(src);\n    setAlt(alt);\n    toggleModal();\n    gallery.map((item, idx) => {\n      if (item.id === id) {\n        setCurrentImgIdx(idx);\n      }\n      return \"\";\n    });\n  };\n\n  if (status === \"idle\") {\n    return \"\";\n  }\n  if (status === \"pending\") {\n    return <Spinner />;\n  }\n  if (status === \"rejected\") {\n    return <p className={css.p}>Sorry, \"{query}\" not found</p>;\n  }\n  if (status === \"resolved\") {\n    return (\n      <div className={css.wrapper}>\n        {showModal && (\n          <Modal\n            onClose={toggleModal}\n            onLeft={decrementModal}\n            onRight={incrementModal}\n            src={modalImgSrc || largeImageURL}\n            tags={alt}\n          />\n        )}\n        <ul className={css.ImageGallery}>\n          {gallery.map(({ largeImageURL, tags, id }) => {\n            return (\n              <ImageGalleryItem\n                src={largeImageURL}\n                alt={tags}\n                onClick={modalOpen}\n                key={id}\n                id={id}\n              />\n            );\n          })}\n        </ul>\n        <Button onClick={loadmore} />\n      </div>\n    );\n  }\n}\nexport default ImageGallery;\n","import { useState } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport \"./App.module.css\";\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const sendQueryInState = (data) => {\n    setSearchQuery(data);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={sendQueryInState} />\n      <ImageGallery query={searchQuery} />\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}